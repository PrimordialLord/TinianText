# 商品主题宏观监控看板设计文档
## 一、文档基本信息
|项目名称|电商数仓|
| ---- | ---- |
|工单编号|大数据-电商数仓-01-商品主题宏观监控看板|
|文档版本|V1.1|
|创建时间|2025年1月23日|
|创建人|八维文化与产业研究院|

## 二、项目背景与目标
### （一）项目背景
在电商业务不断发展的过程中，电商商家对于店铺内商品的运营管理需求日益精细化。商家需要全面、及时地掌握商品的访问、收藏、加购、销售等情况，以便能够及时发现商品销售过程中出现的异常，为商品调整提供依据，从而提升店铺的运营效率和销售业绩。

### （二）项目目标
本项目旨在构建商品主题宏观监控看板，帮助电商商家查看店铺内商品的访问、收藏、加购、销售情况，及时察觉全店商品销售是否出现明显异常，便于商家进行商品调整，实现精细化运营。

## 三、功能设计
### （一）商品效率监控
1. **监控内容**：商家可查看实时和离线维度全店商品动销、商品收藏加购、商品访问情况，直观看到各时间维度下全店商品销售趋势，帮助商家及时察觉全店商品销售是否出现明显异常。
2. **时间维度**：支持7天、30天、日、周、月、自定义（本次不做实时）。
3. **趋势图展示**：选择上方的指标，如果选日，则为当日时段柱形图。
4. **关键指标说明**
    - 商品访客数：统计周期内访问宝贝详情页的去重人数，一个人在统计时间范围内访问多次只记为一个。所有终端访客数为PC端访客数和无线端访客数相加去重。
    - 有访问商品数：统计周期内有浏览的商品数累加。
    - 商品浏览量：在统计周期内，商品详情页被浏览的次数累加。
    - 商品平均停留时长：来访店铺的所有访客总的停留时长/访客数，单位为秒，多天的人均停留时长为各天人均停留时长的日均值。
    - 商品详情页跳出率：统计时间内，访客在详情页中没有发生点击行为的人数/访客数，即1-点击详情页人数/详情页访客数。该值越低越好。
    - 商品收藏人数：统计日期内，新增点击收藏商品的去重人数，不考虑取消收藏的情况。
    - 商品加购件数：统计日期内，新增点击商品加入购物车的商品件数总和，不考虑删除、加购件数修改和下单转化减少的情况。
    - 商品加购人数：统计日期内，新增点击商品加入购物车的去重人数，不考虑删除、加购件数修改和下单转化减少的情况。
    - 访问收藏转化率：统计时间内，收藏人数/访客数，即访客转化为收藏用户的比例。
    - 访问加购转化率：统计时间内，加购人数/访客数，即访客转化为加购客户的比例。
    - 下单买家数：统计时间内，拍下宝贝的去重买家人数，一个人拍下多件或多笔，只算一个人。所有终端下单买家数为PC端和无线端下单买家去重人数，即同一个人既在PC端下单，又在无线端下单，所有终端下单买家数记为1。
    - 下单件数：统计时间内，商品被买家拍下的累计件数。
    - 下单金额：统计时间内，商品被买家拍下的累计金额。
    - 下单转化率：统计时间内，下单买家数/访客数，即来访客户转化为下单买家的比例。
    - 支付买家数：统计时间内，完成支付的去重买家人数，预售分阶段付款在付清尾款当天才计入内；所有终端支付买家数为PC端和无线端支付买家去重人数，即统计时间内在PC端和无线端都对商品完成支付，买家数记为1个。特别说明，不论支付渠道是电脑还是手机，拍下为电脑上，就将该买家数计入PC端支付买家数；拍下为手机或Pad上，就将该买家数计入无线端支付买家数。
    - 支付件数：统计时间内，买家完成支付的商品数量，如出售手机，16G两个，32G一个，那么支付件数为3。
    - 支付金额：买家拍下后通过支付宝支付的金额，未剔除事后退款金额，预售阶段付款在付清当天才计入内，货到付款订单确认收货时计入内。所有终端的支付金额为PC端支付金额和无线端支付金额之和。特别说明，支付渠道不论是电脑上还是手机上，拍下为电脑上，就将后续的支付金额计入PC端；拍下为手机或Pad上，就将后续的支付金额计入无线端。
    - 有支付商品数：统计周期内有支付的商品数累加。
    - 支付转化率：统计时间内，支付买家数/商品访客数（访问过商品详情页人数，并非包含店铺页访客），即来访客户转化为支付买家的比例。
    - 支付新买家数：统计时间的最小统计日期前365天内无支付行为的买家，在统计时间内有过至少一次购买行为的买家数。
    - 支付老买家数：统计时间的最小统计日期前365天内有过支付行为的买家，在统计时间内有过至少一次购买行为的买家数。
    - 老买家支付金额：统计时间的最小统计日期前365天内有过支付行为的买家，在统计时间内的累计支付金额。
    - 客单价：统计日期内，支付金额/支付买家数，即平均每个支付买家的支付金额。
    - 成功退款退货金额：统计时间内，买家成功退款金额，退款包括售中和售后的仅退款和退货退款（不包含货到付款的退款金额）。
    - 聚划算支付金额：统计时间内，通过参加聚划算活动产生的支付金额，未剔除事后退款金额，预售阶段付款在付清当天才计入内，货到付款订单确认收货时计入内。
    - 年累计支付金额：自然年初截止昨日买家拍下后通过支付宝支付的金额，未剔除事后退款金额，预售阶段付款在付清当天才计入内，货到付款订单确认收货时计入内。
    - 访客平均价值：统计时间内，支付金额/访客数，即平均每个访客可能带来的支付金额，建议参考此指标控制流量引入成本。
    - 竞争力评分：统计时间内，通过流量获取、流量转化、内容营销、客户拉新、服务质量等能力综合判断得分。
    - 商品微详情访客数：统计周期内浏览商品微详情3秒及以上的去重人数，一个人在统计时间范围内访问多次只记为一个。

### （二）商品区间分析
1. **分析内容**：商家可自定义按价格带、支付件数、支付金额进行区间划分，为商家提供细分到叶子类目的店铺商品分层分析，帮助商家对店铺商品进行精细化运营提供参考。
2. **自定义区间指标**：按价格带、按支付件数、按支付金额。注：为降低难度，商品价格带、支付件数、支付金额等分档不需动态配置，可在查询时写死，比如支付件数分为0~50、51~100、101~150等。
3. **时间维度**：日、周、月。
4. **排序指标**：动销商品数、支付金额、支付件数、件单价、操作。
5. **类目选择**：细分至叶子类目。

## 四、数据来源与处理
### （一）数据来源
数据主要来源于电商平台的业务系统，包括商品信息数据、用户行为数据、交易数据等。

### （二）数据处理
1. 数据收集：通过数据采集工具从各业务系统中收集原始数据。
2. 数据清洗：对收集到的原始数据进行清洗，去除重复数据、异常数据等，保证数据的准确性和完整性。
3. 数据转换：将清洗后的数据进行转换，使其符合看板分析的要求，如进行数据格式转换、指标计算等。
4. 数据存储：将处理后的数据存储到数据仓库中，以便看板进行数据查询和展示。

## 五、界面设计
### （一）整体布局
看板采用简洁、直观的布局，主要分为导航区、数据展示区和筛选区。导航区用于切换不同的功能模块；数据展示区以图表、表格等形式展示商品的各项指标数据；筛选区用于设置时间维度、区间指标、类目等筛选条件。

### （二）各功能模块界面
1. **商品效率监控界面**：顶部为筛选区，可选择时间维度和需要查看的指标；中间为趋势图展示区，根据选择的指标和时间维度展示相应的趋势图；下方为数据表格，展示各项指标的具体数值。
2. **商品区间分析界面**：顶部为筛选区，可选择时间维度、区间指标和类目；中间为区间分析图表，以柱状图、饼图等形式展示不同区间的商品分布情况；下方为数据表格，展示各区间的具体数据及排序情况。

## 六、技术实现
### （一）开发工具与技术栈
- 开发工具：使用[具体开发工具名称]进行代码开发。
- 技术栈：后端采用[后端技术名称]，前端采用[前端技术名称]，数据存储采用[数据库名称]，数据处理采用[数据处理技术名称]。

### （二）代码注释要求
代码注释需包括工单编号：大数据学院-电商数仓项目-01-商品主题宏观监控看板，以保证代码的可维护性和可追溯性。

## 七、测试计划
### （一）测试目标
确保商品主题宏观监控看板的功能正常、数据准确、界面友好、性能稳定。

### （二）测试内容
1. 功能测试：测试商品效率监控和商品区间分析的各项功能是否符合设计要求，如时间维度选择、指标展示、区间划分等。
2. 数据测试：验证看板展示的数据与实际业务数据的一致性，检查数据计算的准确性。
3. 界面测试：测试界面的布局合理性、操作便捷性、兼容性等。
4. 性能测试：测试看板在大量数据查询和展示时的响应速度和稳定性。

### （三）测试方法
采用黑盒测试和白盒测试相结合的方法，通过编写测试用例，模拟用户操作和数据场景，进行全面的测试。

## 八、上线计划
1. 完成看板的开发和测试工作后，进行内部验收。
2. 内部验收通过后，准备上线所需的环境和数据。
3. 进行上线前的最后检查，确保各项指标正常。
4. 正式上线商品主题宏观监控看板，并收集商家的使用反馈，及时进行优化和改进。

## 九、备注
本设计文档根据工单需求进行编制，后续如需求有变更，将相应调整设计文档内容。